const { ethers } = require("ethers");

async function sendRawTransaction(rawTx: any) {
  // Connect to the Ethereum network
  const provider = new ethers.providers.JsonRpcProvider(
    "https://eth-mainnet.g.alchemy.com/v2/HUzW6mMyyQQi0XnQXbaz_lRMbkEAeF9n"
  );

  // Send the signed transaction
  try {
    const txResponse = await provider.sendTransaction(rawTx);
    console.log(`Transaction hash: ${txResponse.hash}`);

    // Wait for the transaction to be mined
    const receipt = await txResponse.wait();
    console.log(`Transaction confirmed in block: ${receipt.blockNumber}`);
  } catch (error) {
    console.error("Error sending transaction:", error);
  }
}

// Replace this with your raw signed transaction hex string
const rawSignedTx =
  "0xf903a78080832dc6c08080b90359608060405234801561001057600080fd5b50610339806100206000396000f3fe608060405234801561001057600080fd5b506004361061002b5760003560e01c8063cdcb760a14610030575b600080fd5b61004a6004803603810190610045919061024b565b610060565b60405161005791906102e8565b60405180910390f35b600080838351602085016000f59050803b61007a57600080fd5b7f8ffcdc15a283d706d38281f500270d8b5a656918f555de0913d7455e3e6bc1bf816040516100a991906102e8565b60405180910390a18091505092915050565b6000604051905090565b600080fd5b600080fd5b6000819050919050565b6100e2816100cf565b81146100ed57600080fd5b50565b6000813590506100ff816100d9565b92915050565b600080fd5b600080fd5b6000601f19601f8301169050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b6101588261010f565b810181811067ffffffffffffffff8211171561017757610176610120565b5b80604052505050565b600061018a6100bb565b9050610196828261014f565b919050565b600067ffffffffffffffff8211156101b6576101b5610120565b5b6101bf8261010f565b9050602081019050919050565b82818337600083830152505050565b60006101ee6101e98461019b565b610180565b90508281526020810184848401111561020a5761020961010a565b5b6102158482856101cc565b509392505050565b600082601f83011261023257610231610105565b5b81356102428482602086016101db565b91505092915050565b60008060408385031215610262576102616100c5565b5b6000610270858286016100f0565b925050602083013567ffffffffffffffff811115610291576102906100ca565b5b61029d8582860161021d565b9150509250929050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b60006102d2826102a7565b9050919050565b6102e2816102c7565b82525050565b60006020820190506102fd60008301846102d9565b9291505056fea2646970667358221220f12a84d863d4c85deaf219443d01f0030dda25b485994e36b7b4ac9352e7998864736f6c634300080900331ca0ad34775d703427e1849fcb952c57b096cf2354b0eea32d044bbca14cf1076170a0432da986b706d1fa2b7de12ec7082615c2a6da7353dedb00d716ebb04c07a6e4";

sendRawTransaction(rawSignedTx);
